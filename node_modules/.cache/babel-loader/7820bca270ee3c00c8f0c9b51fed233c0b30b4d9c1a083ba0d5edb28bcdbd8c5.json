{"ast":null,"code":"const BASE_URL = \"http://localhost:8000/api\"; // Replace with your backend API base URL\n\nexport const handleUpload = async (userName, files, setStatus, setFiles) => {\n  try {\n    setStatus(\"uploading\");\n    const formData = new FormData();\n    formData.append(\"userName\", userName);\n    Array.from(files).forEach(file => formData.append(\"files\", file));\n    const response = await fetch(`${BASE_URL}/upload/`, {\n      method: \"POST\",\n      body: formData\n    });\n    if (response.ok) {\n      setFiles(null);\n      setStatus(\"success\");\n    } else {\n      setStatus(\"fail\");\n    }\n  } catch (error) {\n    console.error(\"Upload failed:\", error);\n    setStatus(\"fail\");\n  }\n};","map":{"version":3,"names":["BASE_URL","handleUpload","userName","files","setStatus","setFiles","formData","FormData","append","Array","from","forEach","file","response","fetch","method","body","ok","error","console"],"sources":["C:/Users/rong/file-upload-app/src/services/handleUpload.js"],"sourcesContent":["const BASE_URL = \"http://localhost:8000/api\"; // Replace with your backend API base URL\r\n\r\nexport const handleUpload = async (userName, files, setStatus, setFiles) => {\r\n  try {\r\n    setStatus(\"uploading\");\r\n    const formData = new FormData();\r\n    formData.append(\"userName\", userName);\r\n    Array.from(files).forEach((file) => formData.append(\"files\", file));\r\n\r\n    const response = await fetch(`${BASE_URL}/upload/`, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n\r\n    if (response.ok) {\r\n      setFiles(null);\r\n      setStatus(\"success\");\r\n    } else {\r\n      setStatus(\"fail\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Upload failed:\", error);\r\n    setStatus(\"fail\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,2BAA2B,CAAC,CAAC;;AAE9C,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,KAAK,EAAEC,SAAS,EAAEC,QAAQ,KAAK;EAC1E,IAAI;IACFD,SAAS,CAAC,WAAW,CAAC;IACtB,MAAME,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEN,QAAQ,CAAC;IACrCO,KAAK,CAACC,IAAI,CAACP,KAAK,CAAC,CAACQ,OAAO,CAAEC,IAAI,IAAKN,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEI,IAAI,CAAC,CAAC;IAEnE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGd,QAAQ,UAAU,EAAE;MAClDe,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEV;IACR,CAAC,CAAC;IAEF,IAAIO,QAAQ,CAACI,EAAE,EAAE;MACfZ,QAAQ,CAAC,IAAI,CAAC;MACdD,SAAS,CAAC,SAAS,CAAC;IACtB,CAAC,MAAM;MACLA,SAAS,CAAC,MAAM,CAAC;IACnB;EACF,CAAC,CAAC,OAAOc,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACtCd,SAAS,CAAC,MAAM,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}